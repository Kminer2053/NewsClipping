<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코레일유통 뉴스클리핑</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-primary">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <i class="fas fa-newspaper me-2"></i>코레일유통 뉴스클리핑
            </span>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- 프롬프트 입력 영역 -->
        <div class="card mb-4">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-edit me-2"></i>프롬프트 설정</h5>
                <div>
                    <button class="btn btn-sm btn-secondary me-2" id="saveDefaultsBtn" title="현재 브라우저에만 저장됩니다">
                        <i class="fas fa-save me-1"></i>기본값 저장
                    </button>
                    <button class="btn btn-sm btn-warning" id="resetDefaultsBtn">
                        <i class="fas fa-undo me-1"></i>초기화
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="alert alert-info mb-3" role="alert">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>저장 안내:</strong> 기본값은 현재 브라우저의 로컬 저장소에만 저장됩니다. 다른 PC나 브라우저에서는 적용되지 않습니다.
                </div>
                <!-- 1. 기준일자 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-calendar me-2"></i>1. 기준일자</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="form-label">기준 날짜</label>
                            <input type="date" class="form-control" id="dateInput">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">헤더 문자열</label>
                            <input type="text" class="form-control" id="headerInput" 
                                   placeholder="[ '25.11.24. (월) / 홍보문화처(☎6163)]">
                        </div>
                    </div>
                </div>

                <!-- 2. 기본설정 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-cog me-2"></i>2. 기본설정</h6>
                    <textarea class="form-control" id="basicSettingInput" rows="6"></textarea>
                </div>

                <!-- 3. 카테고리별 키워드 정의 및 분류규칙 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-list me-2"></i>3. 카테고리별 키워드 정의 및 분류규칙</h6>
                    <div class="mb-3">
                        <label class="form-label">카테고리 정의</label>
                        <textarea class="form-control" id="categoryDefinitionInput" rows="6"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">분류규칙</label>
                        <textarea class="form-control" id="categoryRuleInput" rows="6"></textarea>
                    </div>
                </div>

                <!-- 4. 기사선별 원칙 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-filter me-2"></i>4. 기사선별 원칙</h6>
                    <textarea class="form-control" id="selectionPrincipleInput" rows="8"></textarea>
                </div>

                <!-- 5. 출력형식 -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-file-alt me-2"></i>5. 출력형식</h6>
                    <textarea class="form-control" id="outputFormatInput" rows="10"></textarea>
                </div>

                <!-- 기사 목록 (옵션) -->
                <div class="mb-4">
                    <h6 class="mb-3"><i class="fas fa-newspaper me-2"></i>기사 목록 (옵션)</h6>
                    <textarea class="form-control" id="articleListInput" rows="5" 
                              placeholder="제목, 언론사, 링크, 날짜, 본문 요약 등을 입력하세요. (선택사항)"></textarea>
                    <small class="form-text text-muted">기사 목록을 입력하지 않으면 자동으로 웹 검색을 통해 수집합니다.</small>
                </div>

                <div class="d-grid">
                    <button class="btn btn-primary btn-lg" id="generateBtn">
                        <i class="fas fa-magic me-2"></i>자료 생성
                    </button>
                </div>
            </div>
        </div>

        <!-- 결과 영역 -->
        <div class="card mb-4" id="resultCard" style="display: none;">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-file-alt me-2"></i>생성 결과</h5>
                <div>
                    <button class="btn btn-sm btn-primary me-2" id="copyNewsListBtn">
                        <i class="fas fa-copy me-1"></i>뉴스목록 복사
                    </button>
                    <button class="btn btn-sm btn-warning me-2" id="copyKakaoBtn">
                        <i class="fas fa-comment me-1"></i>카카오톡 공유자료
                    </button>
                    <button class="btn btn-sm btn-danger" id="generatePdfBtn">
                        <i class="fas fa-file-pdf me-1"></i>PDF다운로드
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div id="previewContent" class="preview-content"></div>
            </div>
        </div>

        <!-- 로딩 표시 -->
        <div class="text-center" id="loadingSpinner" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">생성 중...</span>
            </div>
            <p class="mt-2">AI가 뉴스 클리핑을 생성하고 있습니다...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="/main.js"></script>
</body>
</html>

